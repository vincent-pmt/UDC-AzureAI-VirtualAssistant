"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createSwitch = void 0;
var tslib_1 = require("tslib");
var dynamicFunction_1 = require("./dynamicFunction");
var createSwitch = function (fn, codegen) {
    var counter = 0;
    var _a = tslib_1.__read((0, dynamicFunction_1.dynamicFunction)(function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        if (counter > 2)
            set(codegen());
        counter++;
        return fn.apply(void 0, tslib_1.__spreadArray([], tslib_1.__read(args), false));
    }), 2), proxy = _a[0], set = _a[1];
    return proxy;
};
exports.createSwitch = createSwitch;
