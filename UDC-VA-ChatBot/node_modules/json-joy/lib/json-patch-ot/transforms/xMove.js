"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.xMove = void 0;
var tslib_1 = require("tslib");
var json_1 = require("../../json-patch/codec/json");
var json_pointer_1 = require("../../json-pointer");
var xMove = function (move, op) {
    if ((0, json_pointer_1.isRoot)(move.path))
        return op;
    if ((0, json_pointer_1.isChild)(move.from, op.path)) {
        var pointer = tslib_1.__spreadArray(tslib_1.__spreadArray([], tslib_1.__read(move.path), false), tslib_1.__read(op.path.slice(move.path.length)), false);
        var operation = op.toJson();
        operation.path = pointer;
        return (0, json_1.operationToOp)(operation, {});
    }
    return op;
};
exports.xMove = xMove;
