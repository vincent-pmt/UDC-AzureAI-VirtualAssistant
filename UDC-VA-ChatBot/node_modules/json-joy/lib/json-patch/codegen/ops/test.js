"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.$test = exports.$$test = void 0;
var find_1 = require("../../../json-pointer/codegen/find");
var __deepEqual_1 = require("../../../json-equal/$$deepEqual");
var codegen_1 = require("../../../util/codegen");
var util_1 = require("../util");
var $$test = function (op) {
    var js = "\n(function(wrapper){\n  var find = ".concat((0, find_1.$$find)(op.path), ";\n  var deepEqual = ").concat((0, __deepEqual_1.$$deepEqual)(op.value), ";\n  return wrapper(function(doc){\n    var val = find(doc);\n    if (val === undefined) return ").concat(op.not ? 'true' : 'false', ";\n    return ").concat(op.not ? '!' : '', "deepEqual(val);\n  });\n})");
    return {
        deps: [util_1.predicateOpWrapper],
        js: js,
    };
};
exports.$$test = $$test;
var $test = function (op) { return (0, codegen_1.compileClosure)((0, exports.$$test)(op)); };
exports.$test = $test;
