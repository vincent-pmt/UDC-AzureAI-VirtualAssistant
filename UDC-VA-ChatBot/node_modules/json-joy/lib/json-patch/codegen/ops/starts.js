"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.$starts = exports.$$starts = void 0;
var find_1 = require("../../../json-pointer/codegen/find");
var codegen_1 = require("../../../util/codegen");
var util_1 = require("../util");
var $$starts = function (op) {
    var compareValue = op.ignore_case ? op.value.toLowerCase() : op.value;
    var js = "\n(function(wrapper){\n  var find = ".concat((0, find_1.$$find)(op.path), ";\n  return wrapper(function(doc){\n    var val = find(doc);\n    if (typeof val !== 'string') return false;\n    var outer = ").concat(op.ignore_case ? "val.toLowerCase()" : "val", ";\n    return outer.indexOf(").concat(JSON.stringify(compareValue), ") === 0;\n  });\n})");
    return {
        deps: [util_1.predicateOpWrapper],
        js: js,
    };
};
exports.$$starts = $$starts;
var $starts = function (op) { return (0, codegen_1.compileClosure)((0, exports.$$starts)(op)); };
exports.$starts = $starts;
